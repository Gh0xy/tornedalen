<div class="article-text">
  <h1 class="page-title">Inlägg</h1>


  
  <!-- Lista över alla sparade inlägg -->
  <ul class="post-list" *ngIf="posts.length; else emptyMsg">
    <li *ngFor="let p of posts">
      <h4>{{ p.subject }}</h4>
      <p class="content">{{ p.content }}</p>
      <div class="meta">
        <span class="author">{{ p.author }} </span>
        <span class="date">{{ p.date | date:'yyyy-MM-dd HH:mm' }}</span>
      </div>
      <a [routerLink]="['/reply-to-post', p.id]" class="view-post-button">Visa inlägg</a>
    </li>
  </ul>


  <!-- Visas om det inte finns några inlägg ännu -->
  <ng-template #emptyMsg>
    <p class="empty-hint">Inga inlägg ännu – bli den första att posta!</p>
  </ng-template>

  <!-- === Din befintliga modal fortsätter som tidigare === -->
  <div class="modal" [class.show]="isModalOpen"> … </div>
</div>
 
  <!-- Knappen som öppnar modalen -->
  <button class="elegant-button" (click)="openModal()">Skapa inlägg</button>
  
  <!-- Själva modalen -->
  <div class="modal" [class.show]="isModalOpen">
    <div class="modal-content">
      <span class="close-button" (click)="closeModal()">&times;</span>
  
      <!-- Här är ditt formulär -->
      <div class="discussion-form">
        <h3>Skapa nytt inlägg</h3>
        <form (ngSubmit)="createPost()">

          <label for="subject">Ämne</label>
          <input
            type="text"
            id="subject"
            [(ngModel)]="subject"
            name="subject"
            required
            placeholder="Ange ämne för inlägget"
            class="form-input"
          />

          <label for="author">Författare</label>
    <input
      type="text"
      id="author"
      [(ngModel)]="author"
      name="author"
      required
      placeholder="Ange ditt namn"
      class="form-input"
    />
  
          <!-- E-post fält -->
    <label for="email">E-post</label>
    <input
      type="email"
      id="email"
      [(ngModel)]="email"
      name="email"
      required
      placeholder="Ange din e-postadress"
      class="form-input"
    />
  
          <!-- Inlägg fält -->
    <label for="content">Inlägg</label>
    <textarea
      id="content"
      [(ngModel)]="content"
      name="content"
      required
      placeholder="Skriv ditt inlägg här"
      class="form-input"
    ></textarea>
  
          <button type="submit">Skicka Inlägg</button>
        </form>
      </div>
    </div>
  </div>